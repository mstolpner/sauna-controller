<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - Sauna Controller</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Settings</h1>
        </div>

        <!-- Settings Content -->
        <div class="settings-content">
            <h3 class="section-title">Temperature Settings</h3>
            <div class="setting-item">
                <label>Max Hot Room Temperature, °F:</label>
                <input type="number" id="max-temp" min="100" max="300" value="240">
            </div>
            <div class="setting-item">
                <label>Preset Medium Hot Room Temperature, °F:</label>
                <input type="number" id="preset-medium" min="100" max="250" value="180">
            </div>
            <div class="setting-item">
                <label>Preset High Hot Room Temperature, °F:</label>
                <input type="number" id="preset-high" min="100" max="250" value="200">
            </div>
            <div class="setting-item">
                <label>Heater On Lower Temperature Threshold, °F:</label>
                <input type="number" id="lower-threshold" min="0" max="50" value="5">
            </div>
            <div class="setting-item">
                <label>Heater Off Upper Temperature Threshold, °F:</label>
                <input type="number" id="upper-threshold" min="0" max="50" value="0">
            </div>
            <div class="setting-item">
                <label>Hot Room Cooling Grace Period, minutes:</label>
                <input type="number" id="cooling-grace-period" min="0" max="10" value="1">
            </div>

            <h3 class="section-title">Heater Health Check Settings</h3>
            <div class="setting-item">
                <label>Heater Health Check Warmup Time, minutes:</label>
                <input type="number" id="warmup-time" min="0" max="30" value="5">
            </div>
            <div class="setting-item">
                <label>Heater Health Check Cooldown Time, minutes:</label>
                <input type="number" id="cooldown-time" min="0" max="60" value="20">
            </div>
            <div class="setting-item">
                <label>Heater Max Safe Runtime, minutes:</label>
                <input type="number" id="max-safe-runtime" min="0" max="1440" value="240">
            </div>

            <h3 class="section-title">Heater Cycle Control Settings</h3>
            <div class="setting-item">
                <label>Heater Cycle On Period, seconds:</label>
                <input type="number" id="cycle-on-period" min="0" max="3600" value="60">
            </div>
            <div class="setting-item">
                <label>Heater Cycle Off Period, seconds:</label>
                <input type="number" id="cycle-off-period" min="0" max="3600" value="0">
            </div>

            <h3 class="section-title">RS485 Communication Settings</h3>
            <div class="setting-item">
                <label>RS485 Serial Port:</label>
                <input type="text" id="serial-port" value="/dev/ttyAMA0">
            </div>
            <div class="setting-item">
                <label>RS485 Baud Rate:</label>
                <input type="number" id="baud-rate" min="1200" max="115200" value="9600">
            </div>
            <div class="setting-item">
                <label>RS485 Timeout, seconds:</label>
                <input type="number" id="rs485-timeout" min="0.1" max="5" step="0.1" value="0.3">
            </div>
            <div class="setting-item">
                <label>RS485 Retries:</label>
                <input type="number" id="rs485-retries" min="0" max="10" value="3">
            </div>

            <h3 class="section-title">Hot Room Light Settings</h3>
            <div class="setting-item">
                <label>Turn Hot Room Light Off When Sauna is Off:</label>
                <input type="checkbox" id="light-off-when-sauna-off" class="setting-checkbox">
            </div>

            <h3 class="section-title">System Settings</h3>
            <div class="setting-item">
                <label>CPU Temperature Warning Threshold, °C:</label>
                <input type="number" id="cpu-temp-warn" min="50" max="100" value="90">
            </div>
            <div class="setting-item">
                <label>Max Sauna On Time, hours:</label>
                <input type="number" id="max-sauna-on-time" min="0" max="24" value="6">
            </div>
            <div class="setting-item">
                <label>Logging Level:</label>
                <select id="log-level" class="setting-select">
                    <option value="10">DEBUG</option>
                    <option value="20">INFO</option>
                    <option value="30" selected>WARNING</option>
                    <option value="40">ERROR</option>
                    <option value="50">CRITICAL</option>
                </select>
            </div>
        </div>

        <!-- Save and Back Buttons -->
        <div class="button-container">
            <button class="ok-btn" onclick="saveSettings()">Save</button>
            <button class="ok-btn secondary-btn" onclick="window.location.href='/'">Cancel</button>
        </div>
    </div>

    <script src="/static/js/settings.js"></script>
</body>
</html>
